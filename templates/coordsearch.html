{% extends "base.html" %}

{% block title %}
unWISE coadds: data access
{% endblock %}

{% block css %}
#formtab {
font-size: 14px;
background: #fff;
margin: 15px;
width: 480px;
border-collapse: collapse;
text-align: left;
}
#formtab td
{
color: #669;
padding: 9px 8px 0px 8px;
}
#formtab tbody tr:hover td
{
color: #009;
}
{% endblock %}

{% block content %}
<center>
<h2>unWISE coadds: pick your access method</h2>

<hr>

<h3>Cone Search:</h3>
<form action="{{ url }}">
  {{ form.non_field_errors }}
  <table id="formtab">
    <tbody>
    <tr>
      <td align="right"><label for="id_coord">Coordinates:</label></td>
      <td>
        {{ form.coord }}
        {{ form.coord.errors }}
      </td>
    </tr>
    <tr>
      <td  align="right"><label for="id_radius">Radius (deg):</label></td>
      <td>
        {{ form.radius }}
        {{ form.radius.errors }}
      </td>
    </tr>
    <tr><td colspan="2" align="center">
        <input type="submit" value="Search" class="bigbutton" />
    </td></tr>
    </tbody>
  </table>
  example: "45 17" (decimal degrees), "12:57:10.4 -43:65:10" (hh:mm:ss dd:mm:ss).<br/><br/>
  radius is <i>in addition</i> to the tile size, so to find the tile containing your coordinate, set the radius to zero.
</td></tr>
</form>

<hr>

<h3>Do it yourself:</h3>
<p>
<a href="/data/tiles.fits">FITS table of available tiles</a>
and
<a href="/data/">Direct file access</a>
</p>

<p>
Example: to download all images covering SDSS Stripe 82:
<div align="left">
<pre>
wget http://unwise.me/data/tiles.fits
fitscopy tiles.fits"[dec>-1.6 && dec<1.6]" stripe82-tiles.fits
tablist stripe82-tiles.fits"[col coadd_id]" | tail +3 | awk '{print $2}' \
  | awk '{printf "wget -r -nH --cut-dirs=1 -c http://unwise.me/data/%s/%s/unwise-%s-w1-img-m.fits\n", substr($1,0,3),$1,$1}' \
  > download.sh
chmod 755 download.sh
./download.sh
</pre>
</div>
</p>

<hr>

</center>
{% endblock %}
